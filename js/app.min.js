var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(d,a,c){d instanceof String&&(d=String(d));for(var f=d.length,h=0;h<f;h++){var k=d[h];if(a.call(c,k,h,d))return{i:h,v:k}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,a,c){d!=Array.prototype&&d!=Object.prototype&&(d[a]=c.value)};
$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(d,a,c,f){if(a){c=$jscomp.global;d=d.split(".");for(f=0;f<d.length-1;f++){var h=d[f];h in c||(c[h]={});c=c[h]}d=d[d.length-1];f=c[d];a=a(f);a!=f&&null!=a&&$jscomp.defineProperty(c,d,{configurable:!0,writable:!0,value:a})}};
$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
var App=function(d){var a=this;a.views=[{id:"home",title:"Portfolio",class:"HomeView",preload:["projects"]},{id:"projects",title:"Projects",class:"ProjectsView",preload:["home"]}];a.transitionDuration=400;a.path={viewId:"home"};a.$container=d;a.initialLoad=!0;a.loader=null;a.view=null;a.layout="vertical";$(window).on("breakpoint-change",function(c,f){a.layout="mq-horizontal"===f?"horizontal":"vertical"});a.bootstrap=function(){$.extend(a.path,a.resolvePath(window.location.pathname));a.loader=(new Loader).init().show();
a.loadView(a.path.viewId);return a};a.resolvePath=function(a){var c={};a=a.replace(/^\//,"").split("/");a[0]&&"projects"==a[0]&&a[1]&&(c={viewId:"projects",projectId:a[1]});return c};a.loadView=function(c,f){a.view?a.view.destroy(function(){a.doLoadView(c,f)}):a.doLoadView(c,f);return a};a.doLoadView=function(c,f){var h=$.grep(a.views,function(a){if(a.id==c)return a});h[0]&&h[0]["class"]?(a.view=new window[h[0]["class"]](a),a.view.preload(function(){if(!(history.state&&history.state.view_id===a.view.id||
f)){var c="/"+a.view.id;"home"===a.view.id&&(c="/");history.pushState({view_id:a.view.id},a.view.title,c)}a.initialLoad?(f=!0,history.state&&history.state.view_id===a.view.id||(c="/"+a.view.id,"home"===a.view.id&&(c="/"),history.replaceState({view_id:a.view.id},a.view.title,c)),a.initialLoad=!1,a.loader.hide(function(){a.$container.addClass("intro");a.animateSvg(function(){a.$container.removeClass("intro");a.renderView(a.view,function(){a.$container.append('<div id="finished"></div>')})});a.$container.removeClass("loading")})):
a.renderView(a.view)})):console.error("Invalid view: "+c)};a.renderView=function(c,f){c.render(function(){a.gaTrack();$.each(a.views,function(f,d){d.id!=c.id&&-1<$.inArray(c.id,d.preload)&&(new window[d["class"]](a)).preload()});"function"===typeof f&&f.call(a)})};a.loadStylesheets=function(c,f){var h;var d=$("head");for(h=0;h<c.length;h+=1)0===$('link[href="'+c[h]+'"]').length&&$("<link/>",{rel:"stylesheet",type:"text/css",href:c[h]}).appendTo(d),h+1===c.length&&"function"===typeof f&&f.call(a)};
a.animateSvg=function(c){var f=1;var d=$(".background__layer--svg",a.$container);var k=d.find("svg");var b=k.find("rect");b.each(function(){var a=$(this);a.data("originalY",parseInt(a.attr("y")));a.css("opacity",0);a.hasClass("q-top")?a.attr("y","-100%"):a.attr("y","100%")});d.show();var e=function(b,c,d){var g=b.filter(".q-"+f);var l=g.length;var h=0;g.each(function(){var g=$(this);g.velocity({y:g.data("originalY"),opacity:1},{mobileHA:!1,delay:Math.floor(400*Math.random())+1,duration:200,complete:function(a){function b(){return a.apply(this,
arguments)}b.toString=function(){return a.toString()};return b}(function(){h+=1;h==l&&(f+=1,4>=f?e(b,c,d):"function"==typeof d&&d.call(a))})})})};e(b,k,c)};a.preloadImage=function(c,d){var f=$("<img/>");f.on("load",function(){"function"==typeof d&&d.call(this)});f.attr("src",c);return a};a.getPlaceholder=function(c){return a.$container.find('[data-placeholder="'+c+'"]')};a.setBackgroundImage=function(c,d,h){a.getPlaceholder("background-image").find("img:not(.dismissing)").addClass("dismissing").velocity("stop",
!0).velocity({opacity:0},{duration:a.transitionDuration,complete:function(){$(this).remove()}});if(c){var f=$("<img/>");f.on("load",function(){a.getPlaceholder("background-image").prepend($(this).css("opacity",0));$(this).velocity({opacity:1},{duration:a.transitionDuration,complete:function(a){function b(){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(){"function"==typeof complete&&complete.call(a)})})});f.attr("src",c);d&&f.attr("alt",d);h&&f.attr("title",
h)}else"function"==typeof complete&&complete.call(a);return a};a.$container.on("click","[data-view]",function(c){c.preventDefault();a.loadView($(this).data("view"))});a.gaTrack=function(){gtag("config","UA-111671567-1",{page_location:location.href,page_path:location.pathname})};return a},ProjectsView=function(d){var a=this;a.icons="/images/icons/app.png /images/icons/cms.png /images/icons/kiosk.png /images/icons/multi-user.png /images/icons/offline.png /images/icons/responsive.png /images/icons/url.png /images/icons/user.png".split(" ");
a.id="projects";a.context=d;a.projects=null;a.visible=!1;a.scope={built:!1,project:null,projectCount:null,previewProjects:[]};a.navigation={throttle:250,direction:1,distance:1};a.activeProjectIndex=0;a.visibleProjectCount=5;a.buildScope=function(){var b;if(!a.projects)for(a.projects=[],b=projects.length-1;0<=b;--b)projects[b].enabled&&(a.projects.push(projects[b]),a.context.path.projectId&&a.context.path.projectId==projects[b].id&&a.setActiveProject(a.projects.length-1));b=Math.floor((a.visibleProjectCount+
1)/2);var e=Math.ceil((a.visibleProjectCount+1)/2);a.scope.project=a.getActiveProject();for(a.scope.projectCount=a.getProjectCount();1<=b;--b)a.scope.previewProjects.push(a.getProject(a.scope.project.index-b));a.scope.previewProjects.push(a.scope.project);for(b=1;b<=e;b+=1)a.scope.previewProjects.push(a.getProject(a.scope.project.index+b));a.scope.built=!0;return a};a.preload=function(b){var e,g,c;a.buildScope();a.preloadPreviewProjects(function(){(e=!0,g)&&c&&"function"===typeof b&&b.call(a)});a.preloadFeatureIcons(function(){g=
!0;e&&g&&c&&"function"===typeof b&&b.call(a)});a.context.loadStylesheets(["/css/main.css","//fonts.googleapis.com/css?family=Poppins:400,600&amp;subset=latin-ext","//fonts.googleapis.com/css?family=Roboto","/css/projects.css"],function(){c=!0;e&&g&&c&&"function"===typeof b&&b.call(a)})};a.preloadPreviewProjects=function(b){var e=0,g;var c=a.scope.previewProjects;var d=c.length;for(g=0;g<c.length;g+=1)c[g].data&&c[g].data.cover?a.context.preloadImage(c[g].data.cover,function(){e+=1;e==d&&"function"==
typeof b&&b.call(a)}):(e+=1,e==d&&"function"==typeof b&&b.call(a))};a.preloadFeatureIcons=function(b){var e;for(e=0;e<a.icons.length;e+=1)a.context.preloadImage(a.icons[e]),e==a.icons.length-1&&"function"==typeof b&&b.call(a)};a.render=function(b){!0!==a.scope.built&&(a.scope.distance=0,a.scope.previewProjects=[],a.buildScope());a.animateSlider(!1,function(){a.renderProjectCounter();a.renderProjectImage(a.scope.project);a.renderProjectSlider();a.renderProjectDescription();setTimeout(function(){a.context.$container.on("mousewheel.portfolio",
a.onMouseWheel);a.context.$container.on("keydown.portfolio",a.onKeyDown);!0==="ontouchstart"in window&&(document.addEventListener("touchstart",h,!1),document.addEventListener("touchmove",k,!1));"function"==typeof b&&b.call(a);0===a.getActiveProject().index?a.preloadProject(a.getNextProject()):(a.preloadProject(a.getNextProject()),a.preloadProject(a.getPreviousProject()))},a.context.transitionDuration)});var e=$.grep(a.context.views,function(b){if(b.id==a.id)return b});e[0]&&(e=e[0],history.replaceState({view_id:e.id},
e.title,"/"+e.id+"/"+a.getActiveProject().data.id));return a};a.destroy=function(b){var e,g;a.renderProjectImage(null,function(){if(e=!0,g)a.context.getPlaceholder("background-image").empty(),"function"==typeof b&&b.call(a)});a.animateSlider(!0,function(){g=!0;e&&g&&(a.context.getPlaceholder("project-slider").empty(),a.context.getPlaceholder("project-description").empty(),"function"==typeof b&&b.call(a))});a.context.getPlaceholder("project-counter").velocity({opacity:0},{duration:a.context.transitionDuration});
a.context.$container.off("mousewheel.portfolio");a.context.$container.off("keydown.portfolio");a.$container=$();a.scope.built=!1;return a};a.getProjectCount=function(){return a.projects.length};a.renderProjectSlider=function(){var b=a.context.getPlaceholder("project-slider");var e=b.find(".project");var g=e.filter(".project--active");g.removeClass("project--active");e.filter('[data-project-index="'+a.getActiveProject().index+'"]').addClass("project--next");var c={};"vertical"===a.context.layout?c.translateY=
[g.height()*a.getNavigationDirection()*-1*a.getNavigationDistance(),0]:c.translateX=[g.width()*a.getNavigationDirection()*-1*a.getNavigationDistance(),0];b.velocity("stop",!0).velocity(c,{easing:"linear",duration:a.getNavigationThrottle(),complete:function(){var c;$(this).removeAttr("style");e.filter(".project--next").removeClass("project--next");var g=1==a.getNavigationDirection()?a.scope.previewProjects:a.scope.previewProjects.reverse();for(c=0;c<g.length;c+=1){var d=g[c];var f=e.filter('[data-project-index="'+
d.index+'"]');f.length?a.updateProjectPreview(d,f):1==a.getNavigationDirection()?b.append(a.renderProjectPreview(d,b)):b.prepend(a.renderProjectPreview(d,b))}1==a.getNavigationDirection()?e.slice(0,a.getNavigationDistance()).remove():e.slice(-1*a.getNavigationDistance()).remove()}});return a};a.renderProjectPreview=function(b,e){e=["project"];b.index==a.scope.project.index&&e.push("project--active");b.data?b.data.logo_white&&e.push("project--filled"):e.push("placeholder");if(b.data){e=$("<a></a>",
{href:"/projects/"+b.data.id,"class":e.join(" "),"data-project-index":b.index});var c=b.data.logo?$("<img/>",{src:b.data.logo,alt:b.data.title}):$("<span></span>",{"class":"title"}).text(b.data.title);e.append(c);e.on("click",function(e){e.preventDefault();b.index!=a.activeProjectIndex&&a.switchProject(b)})}else e=$("<div></div>",{"class":e.join(" "),"data-project-index":b.index});return e};a.renderProjectImage=function(b,e){a.context.getPlaceholder("background-image").find("img:not(.dismissing)").addClass("dismissing").velocity("stop",
!0).velocity({opacity:0},{duration:a.context.transitionDuration,complete:function(){$(this).remove()}});if(b){var c=$("<img/>");c.on("load",function(){$(this).data("projectId")==a.scope.project.data.id?(a.context.getPlaceholder("background-image").prepend($(this).css("opacity",0)),$(this).velocity({opacity:1},{duration:a.context.transitionDuration,complete:function(a){function b(){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(){"function"==typeof e&&
e.call(a)})})):"function"==typeof e&&e.call(a)});c.data("projectId",b.data.id);c.attr("src",b.data.cover);c.attr("alt",b.data.title)}else"function"==typeof e&&e.call(a);return a};a.renderProjectDescription=function(){var b=a.context.getPlaceholder("project-description");var e=b.find(".project-content:not(.dismissing)");var c=$("<h2></h2>").text(a.scope.project.data.title);a.scope.project.data.title_lang&&c.attr("lang",a.scope.project.data.title_lang);c=$("<div></div>",{"class":"project-content"}).append($("<article></article>").append(c).append($("<div></div>",
{"class":"body"}).append($(a.scope.project.data.description)))).css({opacity:0});var d={opacity:0};"vertical"===a.context.layout?d.translateY=-320*a.getNavigationDirection():d.translateX=-150*a.getNavigationDirection();e.addClass("dismissing").velocity("stop",!0).velocity(d,{easing:"linear",duration:a.context.transitionDuration,complete:function(){$(this).remove()}});1==a.getNavigationDirection()?b.append(c):b.prepend(c);"horizontal"==a.context.layout&&c.closest(".view--projects__description").animate({scrollTop:0},
0);b={opacity:1};"vertical"===a.context.layout?b.translateY=[0,320*a.getNavigationDirection()]:(b.translateX=[0,150*a.getNavigationDirection()],a.renderFeatures(c));c.velocity(b,{easing:"linear",duration:a.context.transitionDuration,complete:function(){"vertical"===a.context.layout&&a.renderFeatures($(this))}});return a};a.renderFeatures=function(b){var c;var g=$("<ul></ul>",{"class":"features"});a.scope.project.data.available?g.append(a.renderFeature({icon:"url",title:a.scope.project.data.url,tooltip:a.scope.project.data.url+
" (you will be redirected to external website)"},a.scope.project.data.url)):g.append(a.renderFeature({icon:"offline",title:"Offline"}));for(c=0;c<a.scope.project.data.features.length;c+=1)g.append(a.renderFeature(a.scope.project.data.features[c]));a.scope.project.data.date&&g.append(a.renderFeature({title:a.scope.project.data.date,tooltip:"Made in "+a.scope.project.data.date}));b.find("article").append(g);var d=g.find(".feature");"vertical"===a.context.layout&&d.each(function(b,c){$(this).css("z-index",
d.length-b).velocity({translateY:[0,-$(this).outerHeight()]},{duration:a.context.transitionDuration/4,delay:50*b})});return a};a.renderFeature=function(b,c,d){var e,g,f;d=$("<li></li>",{"class":"feature feature--"+b.icon});c&&(e=$("<a></a>",{href:c,target:"_blank"}));b.icon?g=$("<img />",{src:"/images/icons/"+b.icon+".png",alt:"Icon "+b.icon}):f=$("<span></span>").text(b.title);var h=$("<div></div>",{"class":"feature__content"+(c?" has-url":"")});c?h.append(e.append(g||f)):h.append(g||f);var k=$("<span></span>",
{"class":"feature__tooltip"});c&&"horizontal"===a.context.layout?k.append(e.clone().text(b.tooltip?b.tooltip:b.title)):k.text(b.tooltip?b.tooltip:b.title);h.hover(function(){"vertical"===a.context.layout&&k.velocity("stop",!1).velocity({opacity:1,translateY:10},{duration:50})},function(){"vertical"===a.context.layout&&k.velocity("stop",!1).velocity({opacity:0,translateY:0},{duration:50})});return d.append(h).append(k)};a.renderProjectCounter=function(){var b=a.context.getPlaceholder("project-counter");
0==b.css("opacity")&&b.velocity({opacity:1},{duration:a.context.transitionDuration});b.text(a.scope.project.index+1+" / "+a.scope.projectCount);return a};a.updateProjectPreview=function(b,c){b.index==a.scope.project.index&&c.addClass("project--active");return a};a.animateSlider=function(b,c){var e=$(".view--projects",a.context.$container);e.show().velocity({opacity:b?0:1,top:b?"-100%":0},{duration:200,complete:function(a){function b(){return a.apply(this,arguments)}b.toString=function(){return a.toString()};
return b}(function(){b&&e.hide();"function"==typeof c&&c.call(a)})})};a.getProjects=function(){return a.projects};a.getProject=function(b){return{data:a.getProjects()[b],index:b}};a.getActiveProject=function(){return a.getProject(a.activeProjectIndex)};a.setActiveProject=function(b){a.getProjects()[b]&&(a.activeProjectIndex=b);return a.getProjects()[a.activeProjectIndex]};a.getPreviousProject=function(){return a.getProject(a.getActiveProject().index-1)};a.getNextProject=function(){return a.getProject(a.getActiveProject().index+
1)};a.getNavigationDirection=function(){return a.navigation.direction};a.setNavigationDirection=function(b){return a.navigation.direction=-1==b?-1:1};a.getNavigationThrottle=function(){return a.navigation.throttle};a.setNavigationThrottle=function(b){return a.navigation.throttle=b};a.getNavigationDistance=function(){return a.navigation.distance};a.setNavigationDistance=function(b){return a.navigation.distance=b};a.throttle=function(a,c){var b=!1;return function(){b||(a.apply(this,arguments),b=!0,
setTimeout(function(){b=!1},c))}};a.debounce=function(a,c,d){var b;return function(){var e=this,g=arguments,f=d&&!b;clearTimeout(b);b=setTimeout(function(){b=null;d||a.apply(e,g)},c);f&&a.apply(e,g)}};a.preloadProject=function(b,c){var e,d;b.data?(b.data.logo?a.context.preloadImage(b.data.logo,function(){(e=!0,d)&&"function"==typeof c&&c.call(this)}):e=!0,b.data.cover?a.context.preloadImage(b.data.cover,function(){d=!0;e&&d&&"function"==typeof c&&c.call(this)}):d=!0):"function"==typeof c&&c.call(this);
return a};a.navigateToProject=function(b,c){a.setActiveProject(b.index);1==a.getNavigationDirection()?a.preloadProject(a.getNextProject()):a.preloadProject(a.getPreviousProject());a.scope.previewProjects=[];a.buildScope();a.renderProjectCounter();a.renderProjectImage(a.scope.project);a.renderProjectSlider();a.renderProjectDescription();setTimeout(function(){"function"==typeof c&&c.call(a,b)},a.context.transitionDuration);return a};a.switchProject=a.debounce(function(b){b.data&&(a.setNavigationDirection(b.index>
a.getActiveProject().index?1:-1),a.setNavigationDistance(Math.abs(b.index-a.getActiveProject().index)),a.navigateToProject(b,function(){var b=a.getActiveProject(),c=$.grep(a.context.views,function(b){if(b.id==a.id)return b});c[0]&&(c=c[0],history.replaceState({view_id:c.id},c.title,"/"+c.id+"/"+b.data.id));a.context.gaTrack()}));return a},a.getNavigationThrottle());a.onMouseWheel=function(b){var c=0<b.originalEvent.wheelDelta||0>b.originalEvent.detail?-1:1;var d="vertical"===a.context.layout?$(b.target).closest(".body"):
$(b.target).closest(".view--projects__description");if(d.length)switch(d=d.get(0),c){case -1:if(0!==d.scrollTop)return a;break;case 1:if(d.scrollHeight-d.scrollTop>d.clientHeight)return a}b.preventDefault();-1===c?a.switchProject(a.getPreviousProject()):a.switchProject(a.getNextProject());return a};a.onKeyDown=function(b){-1!=$.inArray(b.keyCode,[33,36,38])&&(b.preventDefault(),a.switchProject(a.getPreviousProject()));-1!=$.inArray(b.keyCode,[34,35,40])&&(b.preventDefault(),a.switchProject(a.getNextProject()));
return a};if(!0==="ontouchstart"in window)var c=null,f=null,h=function(a){c=a.touches[0].clientX;f=a.touches[0].clientY},k=function(b){if(c&&f){var d=c-b.touches[0].clientX;Math.abs(d)>Math.abs(f-b.touches[0].clientY)&&(0<d?a.switchProject(a.getNextProject()):a.switchProject(a.getPreviousProject()))}}},HomeView=function(d){var a=this;a.id="home";a.context=d;a.backgroundImageSrc="/images/profile.jpg";a.preload=function(c){var d,h;a.context.preloadImage(a.backgroundImageSrc,function(){(d=!0,h)&&"function"===
typeof c&&c.call(a)});a.context.loadStylesheets(["/css/main.css","//fonts.googleapis.com/css?family=Poppins:400,600&amp;subset=latin-ext","/css/home.css"],function(){h=!0;d&&h&&"function"===typeof c&&c.call(a)})};a.render=function(c){a.context.setBackgroundImage(a.backgroundImageSrc,"Profile image");a.context.$container.find(".view--home").show().velocity({translateY:[0,100],opacity:1},{duration:a.context.transitionDuration/2,complete:function(a){function c(){return a.apply(this,arguments)}c.toString=
function(){return a.toString()};return c}(function(){"function"==typeof c&&c.call(a)})});return a};a.destroy=function(c){a.context.setBackgroundImage(null);a.context.$container.find(".view--home").velocity({translateY:100,opacity:0},{duration:a.context.transitionDuration/2,complete:function(){a.context.$container.find(".view--home").hide();"function"==typeof c&&c.call(a)}});return a};return a};
