"use strict";var Loader=function(){var n=this;return n.settings={color:"#ECC98D",currentAngle:0,radius:75,lineWidth:6,lines:3,distance:2,speedMultiplier:1,length:150,bwRGB:!1,rainbowRGB:!1,wmcRGB:!1},n.canvas=null,n.ctx=null,n.x=null,n.y=null,n.interval=0,n.ready=!1,n.currentLength=0,n.endingLength=0,n.endLoading=!1,n.startTime=null,n.init=function(){var t=$("<canvas></canvas>",{id:"loader"});return $("body").append(t),n.canvas=t.get(0),n.ctx=n.canvas.getContext("2d"),n.canvas.width=$(window).width(),n.canvas.height=$(window).height(),n.x=n.canvas.width/2,n.y=n.canvas.height/2,$(window).on("resize",function(){n.canvas.width=$(window).width(),n.canvas.height=$(window).height(),n.x=n.canvas.width/2,n.y=n.canvas.height/2}),n},n.show=function(){return $(n.canvas).show(),n.currentLength=0,n.endingLength=0,n.endLoading=0,n.startTime=new Date,n.interval=setInterval(n.draw,10),n},n.draw=function(){var t=new Date-n.startTime;n.settings.currentAngle=n.settings.currentAngle+.01*n.settings.speedMultiplier,n.ctx.clearRect(0,0,n.canvas.width,n.canvas.height);for(var e=1;e<=n.settings.lines;e++){var i=n.settings.currentAngle*Math.PI*e+n.degreesToRadian(n.endingLength),r=n.settings.currentAngle*Math.PI*e+n.degreesToRadian(n.currentLength);if(n.currentLength<n.settings.length&&(!n.endLoading||t<750)?n.currentLength=n.currentLength+.5:n.currentLength>n.endingLength&&n.endLoading&&t>750&&(n.endingLength=n.endingLength+.5),n.ctx.beginPath(),n.ctx.arc(n.x,n.y,n.settings.radius-(e-1)*n.settings.distance*n.settings.lineWidth,i,r),n.ctx.lineWidth=n.settings.lineWidth,n.settings.bwRGB)n.ctx.strokeStyle="rgb("+255/e+", "+255/e+", "+255/e+")";else if(n.settings.rainbowRGB){var a=n.getRainbowRGB(n.settings.lines,e);n.ctx.strokeStyle="rgb("+a.red+", "+a.green+", "+a.blue+")"}else n.settings.wmcRGB?n.ctx.strokeStyle="rgb("+(24/e+69)+", "+(3/e+16)+", "+(17/e+49)+")":n.ctx.strokeStyle=n.settings.color;n.ctx.stroke()}return n},n.hide=function(t){n.endLoading=!0;var e=setInterval(function(){n.currentLength<=n.endingLength&&(clearInterval(e),clearInterval(n.interval),$(n.canvas).hide(),"function"==typeof t&&t.call(this))},10);return n},n.degreesToRadian=function(n){return n*(Math.PI/180)},n.getRainbowRGB=function(n,t){var e=2*Math.PI/n,i=127*Math.sin(e*t+2+t)+128,r=127*Math.sin(e*t+t)+128,a=127*Math.sin(e*t+4+t)+128;return{red:Math.round(i),green:Math.round(r),blue:Math.round(a)}},n};