var Loader=function(){var a=this;a.settings={color:"#ECC98D",currentAngle:0,radius:75,lineWidth:6,lines:3,distance:2,speedMultiplier:1,length:150,bwRGB:!1,rainbowRGB:!1,wmcRGB:!1};a.canvas=null;a.ctx=null;a.x=null;a.y=null;a.interval=0;a.ready=!1;a.currentLength=0;a.endingLength=0;a.endLoading=!1;a.startTime=null;a.init=function(){var c=$("<canvas></canvas>",{id:"loader"});$("body").append(c);a.canvas=c.get(0);a.ctx=a.canvas.getContext("2d");a.canvas.width=$(window).width();a.canvas.height=$(window).height();
a.x=a.canvas.width/2;a.y=a.canvas.height/2;$(window).on("resize",function(){a.canvas.width=$(window).width();a.canvas.height=$(window).height();a.x=a.canvas.width/2;a.y=a.canvas.height/2});return a};a.show=function(){$(a.canvas).show();a.currentLength=0;a.endingLength=0;a.endLoading=0;a.startTime=new Date;a.interval=setInterval(a.draw,10);return a};a.draw=function(){var c=new Date-a.startTime;a.settings.currentAngle+=.01*a.settings.speedMultiplier;a.ctx.clearRect(0,0,a.canvas.width,a.canvas.height);
for(var b=1;b<=a.settings.lines;b++){var d=a.settings.currentAngle*Math.PI*b+a.degreesToRadian(a.endingLength),e=a.settings.currentAngle*Math.PI*b+a.degreesToRadian(a.currentLength);a.currentLength<a.settings.length&&(!a.endLoading||750>c)?a.currentLength+=.5:a.currentLength>a.endingLength&&a.endLoading&&750<c&&(a.endingLength+=.5);a.ctx.beginPath();a.ctx.arc(a.x,a.y,a.settings.radius-(b-1)*a.settings.distance*a.settings.lineWidth,d,e);a.ctx.lineWidth=a.settings.lineWidth;a.settings.bwRGB?a.ctx.strokeStyle=
"rgb("+255/b+", "+255/b+", "+255/b+")":a.settings.rainbowRGB?(d=a.getRainbowRGB(a.settings.lines,b),a.ctx.strokeStyle="rgb("+d.red+", "+d.green+", "+d.blue+")"):a.ctx.strokeStyle=a.settings.wmcRGB?"rgb("+(24/b+69)+", "+(3/b+16)+", "+(17/b+49)+")":a.settings.color;a.ctx.stroke()}return a};a.hide=function(c){a.endLoading=!0;var b=setInterval(function(){a.currentLength<=a.endingLength&&(clearInterval(b),clearInterval(a.interval),$(a.canvas).hide(),"function"==typeof c&&c.call(this))},10);return a};a.degreesToRadian=
function(a){return Math.PI/180*a};a.getRainbowRGB=function(a,b){a=2*Math.PI/a;return{red:Math.round(127*Math.sin(a*b+2+b)+128),green:Math.round(127*Math.sin(a*b+b)+128),blue:Math.round(127*Math.sin(a*b+4+b)+128)}};return a};
